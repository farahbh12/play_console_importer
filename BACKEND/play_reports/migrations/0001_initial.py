# Generated by Django 5.1.5 on 2025-07-09 12:29

import django.db.models.deletion
import play_reports.models.user
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Abonnement',
            fields=[
                ('id_abonnement', models.AutoField(primary_key=True, serialize=False)),
                ('type_abonnement', models.CharField(choices=[('BASIC', 'Basic'), ('PRO', 'Professionnel'), ('ENTERPRISE', 'Entreprise')], max_length=20, unique=True, verbose_name="Type d'abonnement")),
                ('is_active', models.BooleanField(default=True, verbose_name='Actif')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('date_mise_a_jour', models.DateTimeField(auto_now=True, verbose_name='Dernière mise à jour')),
            ],
            options={
                'verbose_name': 'Abonnement',
                'verbose_name_plural': 'Abonnements',
                'ordering': ['type_abonnement'],
            },
        ),
        migrations.CreateModel(
            name='Permission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('slug', models.SlugField(unique=True)),
                ('is_for_employee', models.BooleanField(default=True)),
                ('is_for_client', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Permission',
                'verbose_name_plural': 'Permissions',
            },
        ),
        migrations.CreateModel(
            name='Tenant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('uri', models.URLField(blank=True, max_length=512, null=True, unique=True)),
                ('is_active', models.BooleanField(default=True, help_text='Indique si le tenant est actif')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Tenant',
                'verbose_name_plural': 'Tenants',
                'db_table': 'play_reports__tenant',
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='email address')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(auto_now_add=True, verbose_name='date joined')),
                ('last_login', models.DateTimeField(auto_now=True, verbose_name='last login')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'user',
                'verbose_name_plural': 'users',
                'db_table': 'play_reports_user',
            },
            managers=[
                ('objects', play_reports.models.user.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=150, verbose_name='Prénom')),
                ('last_name', models.CharField(max_length=150, verbose_name='Nom')),
                ('role_employe', models.CharField(choices=[('Administrateur', 'Administrateur'), ('Gestionnaire', 'Gestionnaire')], max_length=50, verbose_name='role_employe')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Dernière mise à jour')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='employee_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Employé',
                'verbose_name_plural': 'Employés',
                'db_table': 'play_reports_employee',
                'ordering': ['last_name', 'first_name'],
                'permissions': [('manage_employees', 'Peut gérer les employés'), ('manage_clients', 'Peut gérer les clients'), ('manage_subscriptions', 'Peut gérer les abonnements'), ('view_reports', 'Peut voir les rapports'), ('manage_invitations', 'Peut gérer les invitations')],
            },
        ),
        migrations.CreateModel(
            name='Report',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('path', models.CharField(max_length=512)),
                ('size', models.BigIntegerField()),
                ('report_type', models.CharField(max_length=50)),
                ('last_modified', models.DateTimeField()),
                ('is_processed', models.BooleanField(default=False)),
                ('processed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reports', to='play_reports.tenant')),
            ],
        ),
        migrations.CreateModel(
            name='PermissionEmploye',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('granted_at', models.DateTimeField(auto_now_add=True, verbose_name="Date d'attribution")),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('abonnement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='employee_permissions', to='play_reports.abonnement', verbose_name='Abonnement')),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='permissions', to='play_reports.employee', verbose_name='Employé')),
                ('granted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='granted_permissions', to='play_reports.employee', verbose_name='Attribuée par')),
                ('permission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='employee_permissions', to='play_reports.permission', verbose_name='Permission')),
            ],
            options={
                'verbose_name': 'Permission employé',
                'verbose_name_plural': 'Permissions employés',
                'ordering': ['permission__name'],
                'unique_together': {('permission', 'employee')},
            },
        ),
        migrations.CreateModel(
            name='SubscriptionsOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('date', models.DateField()),
                ('product_id', models.CharField(max_length=255)),
                ('country', models.CharField(max_length=100)),
                ('new_subscriptions', models.IntegerField()),
                ('canceled_subscriptions', models.IntegerField()),
                ('active_subscriptions', models.IntegerField()),
                ('base_plan_id', models.CharField(blank=True, max_length=255, null=True)),
                ('offer_id', models.CharField(blank=True, max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subscriptions_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Abonnement',
                'verbose_name_plural': 'Abonnements',
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__097900_idx'), models.Index(fields=['package_name'], name='play_report_package_c3b761_idx'), models.Index(fields=['country'], name='play_report_country_d055ef_idx')],
                'unique_together': {('tenant', 'package_name', 'date', 'product_id', 'country')},
            },
        ),
        migrations.CreateModel(
            name='StorePerformanceOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('date', models.DateField()),
                ('country', models.CharField(max_length=255)),
                ('traffic_source', models.CharField(max_length=255)),
                ('search_term', models.CharField(blank=True, max_length=255, null=True)),
                ('utm_source', models.CharField(blank=True, max_length=255, null=True)),
                ('utm_campaign', models.CharField(blank=True, max_length=255, null=True)),
                ('store_listing_acquisitions', models.IntegerField()),
                ('store_listing_visitors', models.IntegerField()),
                ('store_listing_conversion_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='store_performance_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Performance du Store',
                'verbose_name_plural': 'Performances du Store',
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__33b976_idx'), models.Index(fields=['package_name'], name='play_report_package_750c66_idx'), models.Index(fields=['country'], name='play_report_country_5c0724_idx'), models.Index(fields=['traffic_source'], name='play_report_traffic_a849a8_idx')],
                'unique_together': {('tenant', 'package_name', 'date', 'country', 'traffic_source', 'search_term', 'utm_source', 'utm_campaign')},
            },
        ),
        migrations.CreateModel(
            name='Reviews',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('app_version_code', models.IntegerField()),
                ('app_version_name', models.CharField(max_length=255)),
                ('reviewer_language', models.CharField(max_length=10)),
                ('device', models.CharField(max_length=255)),
                ('review_title', models.CharField(blank=True, max_length=255, null=True)),
                ('review_submit_date', models.DateTimeField()),
                ('review_submit_millis_since_epoch', models.BigIntegerField()),
                ('review_last_update_date', models.DateTimeField()),
                ('review_last_update_millis_since_epoch', models.BigIntegerField()),
                ('star_rating', models.IntegerField()),
                ('review_text', models.TextField(blank=True, null=True)),
                ('developer_reply_date', models.DateTimeField(blank=True, null=True)),
                ('developer_reply_millis_since_epoch', models.BigIntegerField(blank=True, null=True)),
                ('developer_reply_text', models.TextField(blank=True, null=True)),
                ('review_link', models.URLField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Avis',
                'verbose_name_plural': 'Avis',
                'unique_together': {('tenant', 'package_name', 'review_submit_millis_since_epoch')},
            },
        ),
        migrations.CreateModel(
            name='RetainedInstallerOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('acquisition_channel', models.CharField(max_length=255)),
                ('channel', models.CharField(blank=True, max_length=100, null=True)),
                ('date', models.DateField()),
                ('country', models.CharField(max_length=100)),
                ('play_country', models.CharField(blank=True, max_length=100, null=True)),
                ('play_search', models.CharField(blank=True, max_length=100, null=True)),
                ('utm_source_campaign', models.CharField(max_length=255)),
                ('utm_tagged', models.CharField(blank=True, max_length=100, null=True)),
                ('keyword', models.CharField(blank=True, max_length=255, null=True)),
                ('store_listing_visitors', models.IntegerField()),
                ('installers', models.IntegerField()),
                ('visitor_to_installer_conversion_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('median_visitor_to_installer', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installers_retained_1_day', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installer_to_1_day_retention_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installers_retained_7_days', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installer_to_7_days_retention_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installers_retained_15_days', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installer_to_15_days_retention_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installers_retained_30_days', models.DecimalField(decimal_places=2, max_digits=5)),
                ('installer_to_30_days_retention_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='retained_installer_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Installateur Retenu',
                'verbose_name_plural': 'Installateurs Retenus',
                'unique_together': {('tenant', 'date', 'country', 'acquisition_channel', 'utm_source_campaign', 'keyword')},
            },
        ),
        migrations.CreateModel(
            name='RatingsOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('date', models.DateField()),
                ('device', models.CharField(blank=True, max_length=255, null=True)),
                ('os_version', models.CharField(blank=True, max_length=255, null=True)),
                ('app_version', models.CharField(blank=True, max_length=100, null=True)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('language', models.CharField(blank=True, max_length=50, null=True)),
                ('carrier', models.CharField(blank=True, max_length=100, null=True)),
                ('daily_average_rating', models.DecimalField(decimal_places=2, max_digits=3)),
                ('total_average_rating', models.DecimalField(decimal_places=2, max_digits=3)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ratings_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Aperçu des évaluations',
                'verbose_name_plural': 'Aperçus des évaluations',
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__e84650_idx'), models.Index(fields=['package_name'], name='play_report_package_60285a_idx'), models.Index(fields=['device'], name='play_report_device_add2a6_idx'), models.Index(fields=['os_version'], name='play_report_os_vers_706b9e_idx'), models.Index(fields=['app_version'], name='play_report_app_ver_4d21e6_idx'), models.Index(fields=['country'], name='play_report_country_977b73_idx'), models.Index(fields=['language'], name='play_report_languag_774a0f_idx'), models.Index(fields=['carrier'], name='play_report_carrier_188c85_idx')],
                'unique_together': {('tenant', 'package_name', 'date', 'device', 'os_version', 'app_version', 'country', 'language', 'carrier')},
            },
        ),
        migrations.CreateModel(
            name='PromotionalContent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('converters_daily', models.CharField(max_length=255)),
                ('converters_28_day_rolling', models.DecimalField(decimal_places=2, max_digits=10)),
                ('package_name', models.CharField(max_length=255)),
                ('viewers_28_day_rolling', models.DecimalField(decimal_places=2, max_digits=10)),
                ('promotional_content_name', models.CharField(max_length=255)),
                ('promotional_content_id', models.IntegerField()),
                ('date', models.DateField()),
                ('outcome', models.CharField(max_length=255)),
                ('country', models.CharField(max_length=100)),
                ('conversion_rate_28_day_rolling', models.DecimalField(decimal_places=2, max_digits=10)),
                ('conversion_rate_daily', models.DecimalField(decimal_places=2, max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='promotional_content_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Contenu Promotionnel',
                'verbose_name_plural': 'Contenus Promotionnels',
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__a7f1d1_idx'), models.Index(fields=['promotional_content_id'], name='play_report_promoti_e86073_idx'), models.Index(fields=['country'], name='play_report_country_3abdca_idx')],
                'unique_together': {('tenant', 'promotional_content_id', 'date', 'country')},
            },
        ),
        migrations.CreateModel(
            name='Invitation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('email', models.EmailField(max_length=254, verbose_name='Adresse email du destinataire')),
                ('token', models.CharField(editable=False, max_length=64, unique=True)),
                ('expires_at', models.DateTimeField(verbose_name="Date d'expiration")),
                ('status', models.CharField(choices=[('PENDING', 'En attente'), ('ACCEPTED', 'Acceptée'), ('REVOKED', 'Révoquée'), ('EXPIRED', 'Expirée')], default='PENDING', max_length=20, verbose_name='Statut')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Dernière mise à jour')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sent_invitations', to=settings.AUTH_USER_MODEL, verbose_name='Créée par')),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='invitations', to='play_reports.tenant', verbose_name='Espace client')),
            ],
            options={
                'verbose_name': 'Invitation',
                'verbose_name_plural': 'Invitations',
                'ordering': ['-created_at'],
                'constraints': [models.UniqueConstraint(condition=models.Q(('status', 'PENDING')), fields=('email', 'tenant'), name='unique_pending_invitation_per_email_tenant')],
            },
        ),
        migrations.CreateModel(
            name='InstallsOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('date', models.DateField()),
                ('device', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('app_version', models.CharField(blank=True, max_length=100, null=True)),
                ('os_version', models.CharField(blank=True, max_length=100, null=True)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('language', models.CharField(blank=True, max_length=50, null=True)),
                ('carrier', models.CharField(blank=True, max_length=100, null=True)),
                ('current_device_installs', models.IntegerField(blank=True, default=0, null=True)),
                ('installs_on_active_devices', models.IntegerField(blank=True, default=0, null=True)),
                ('daily_device_installs', models.IntegerField(blank=True, default=0, null=True)),
                ('daily_device_uninstalls', models.IntegerField(blank=True, default=0, null=True)),
                ('daily_device_upgrades', models.IntegerField(blank=True, default=0, null=True)),
                ('total_user_installs', models.IntegerField(blank=True, default=0, null=True)),
                ('daily_user_installs', models.IntegerField(blank=True, default=0, null=True)),
                ('daily_user_uninstalls', models.IntegerField(blank=True, default=0, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='installs_data', to='play_reports.tenant')),
            ],
            options={
                'ordering': ['-date', 'package_name'],
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__bd2655_idx'), models.Index(fields=['package_name'], name='play_report_package_01e945_idx'), models.Index(fields=['device'], name='play_report_device_c93dad_idx'), models.Index(fields=['app_version'], name='play_report_app_ver_b17330_idx'), models.Index(fields=['os_version'], name='play_report_os_vers_254086_idx'), models.Index(fields=['country'], name='play_report_country_128e09_idx'), models.Index(fields=['language'], name='play_report_languag_7cb1da_idx'), models.Index(fields=['carrier'], name='play_report_carrier_ea1a45_idx')],
                'unique_together': {('tenant', 'package_name', 'date', 'device', 'app_version', 'os_version', 'country', 'language', 'carrier')},
            },
        ),
        migrations.CreateModel(
            name='EstimatedSales',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order_number', models.CharField(max_length=255)),
                ('order_charged_date', models.DateField()),
                ('order_charged_timestamp', models.BigIntegerField()),
                ('financial_status', models.CharField(max_length=255)),
                ('device_model', models.CharField(max_length=255)),
                ('product_title', models.CharField(max_length=255)),
                ('product_id', models.CharField(max_length=255)),
                ('product_type', models.CharField(max_length=255)),
                ('sku_id', models.CharField(max_length=255)),
                ('currency_of_sale', models.CharField(max_length=10)),
                ('item_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('taxes_collected', models.DecimalField(decimal_places=2, max_digits=10)),
                ('charged_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('city_of_buyer', models.CharField(max_length=255)),
                ('state_of_buyer', models.CharField(max_length=255)),
                ('postcode_of_buyer', models.CharField(max_length=20)),
                ('country_of_buyer', models.CharField(max_length=255)),
                ('base_plan_id', models.CharField(max_length=255)),
                ('offer_id', models.CharField(max_length=255)),
                ('group_id', models.IntegerField()),
                ('first_usd_1m_eligible', models.CharField(max_length=255)),
                ('promotion_id', models.CharField(max_length=255)),
                ('coupon_value', models.DecimalField(decimal_places=2, max_digits=10)),
                ('discount_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('featured_products_id', models.IntegerField()),
                ('price_experiment_id', models.CharField(max_length=255)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='estimated_sales_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Vente Estimée',
                'verbose_name_plural': 'Ventes Estimées',
                'unique_together': {('tenant', 'order_number', 'order_charged_date')},
            },
        ),
        migrations.CreateModel(
            name='Earnings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.TextField()),
                ('transaction_date', models.DateField()),
                ('transaction_time', models.TimeField()),
                ('tax_type', models.CharField(max_length=100)),
                ('transaction_type', models.CharField(max_length=100)),
                ('refund_type', models.CharField(blank=True, max_length=100, null=True)),
                ('product_title', models.CharField(max_length=255)),
                ('product_id', models.CharField(max_length=100)),
                ('product_type', models.IntegerField()),
                ('sku_id', models.CharField(max_length=100)),
                ('hardware', models.CharField(max_length=100)),
                ('buyer_country', models.CharField(max_length=100)),
                ('buyer_state', models.CharField(blank=True, max_length=100, null=True)),
                ('buyer_postcode', models.CharField(blank=True, max_length=20, null=True)),
                ('buyer_currency', models.CharField(max_length=10)),
                ('amount_buyer_currency', models.DecimalField(decimal_places=2, max_digits=15)),
                ('currency_conversion_rate', models.DecimalField(decimal_places=5, max_digits=10)),
                ('merchant_currency', models.CharField(max_length=10)),
                ('amount_merchant_currency', models.DecimalField(decimal_places=2, max_digits=15)),
                ('base_plan_id', models.CharField(blank=True, max_length=100, null=True)),
                ('offer_id', models.CharField(blank=True, max_length=100, null=True)),
                ('group_id', models.IntegerField(blank=True, null=True)),
                ('first_usd_1m_eligible', models.CharField(blank=True, max_length=10, null=True)),
                ('service_fee_percent', models.DecimalField(decimal_places=2, max_digits=5)),
                ('fee_description', models.CharField(blank=True, max_length=255, null=True)),
                ('promotion_id', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='earnings_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Revenu',
                'verbose_name_plural': 'Revenus',
                'indexes': [models.Index(fields=['tenant', 'transaction_date'], name='play_report_tenant__d53ce8_idx'), models.Index(fields=['product_id'], name='play_report_product_26306f_idx'), models.Index(fields=['buyer_country'], name='play_report_buyer_c_3559c4_idx')],
                'unique_together': {('tenant', 'transaction_date', 'transaction_time', 'product_id', 'buyer_country')},
            },
        ),
        migrations.CreateModel(
            name='CrashesOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('date', models.DateField()),
                ('device', models.CharField(blank=True, max_length=255, null=True)),
                ('daily_crashes', models.IntegerField()),
                ('daily_anrs', models.IntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='crashes_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Crash',
                'verbose_name_plural': 'Crashes',
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__5fba25_idx'), models.Index(fields=['package_name', 'device'], name='play_report_package_912b99_idx')],
                'unique_together': {('tenant', 'package_name', 'date', 'device')},
            },
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role_client', models.CharField(choices=[('Owner', 'Owner'), ('Member', 'Membre Invité')], default='Owner', max_length=20)),
                ('first_name', models.CharField(max_length=150)),
                ('last_name', models.CharField(max_length=150)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('abonnement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clients', to='play_reports.abonnement')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='client_profile', to=settings.AUTH_USER_MODEL)),
                ('tenant', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Client',
                'verbose_name_plural': 'Clients',
                'db_table': 'play_reports_client',
                'constraints': [models.UniqueConstraint(condition=models.Q(('tenant', None), _negated=True), fields=('user', 'tenant'), name='unique_user_tenant')],
            },
        ),
        migrations.CreateModel(
            name='CancellationReasons',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cancellation_date', models.DateField()),
                ('sku_id', models.CharField(max_length=255)),
                ('country', models.CharField(max_length=255)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cancellation_reasons_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': "Raison d'Annulation",
                'verbose_name_plural': "Raisons d'Annulation",
                'indexes': [models.Index(fields=['tenant', 'cancellation_date'], name='play_report_tenant__5a54bc_idx')],
                'unique_together': {('tenant', 'cancellation_date', 'sku_id', 'country')},
            },
        ),
        migrations.CreateModel(
            name='Buyers7DOverview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('acquisition_channel', models.CharField(max_length=100)),
                ('date', models.DateField()),
                ('country', models.CharField(max_length=100)),
                ('play_country', models.CharField(blank=True, max_length=100, null=True)),
                ('play_search', models.CharField(blank=True, max_length=100, null=True)),
                ('utm_source_campaign', models.CharField(max_length=255)),
                ('utm_tagged', models.BooleanField(default=False)),
                ('keyword', models.CharField(blank=True, max_length=255, null=True)),
                ('store_listing_visitors', models.IntegerField()),
                ('installers', models.IntegerField()),
                ('visitor_to_installer_conversion_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('median_visitor_to_installer_conversion_rate_benchmark', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('buyers', models.IntegerField()),
                ('installer_to_buyer_conversion_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('repeat_buyers', models.IntegerField()),
                ('installer_to_repeat_buyer_conversion_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('buyer_to_repeat_buyer_conversion_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tenant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='buyers_data', to='play_reports.tenant')),
            ],
            options={
                'verbose_name': 'Donnée Acheteur',
                'verbose_name_plural': 'Données Acheteurs',
                'indexes': [models.Index(fields=['tenant', 'date'], name='play_report_tenant__a9b557_idx')],
                'unique_together': {('tenant', 'date', 'country', 'acquisition_channel')},
            },
        ),
    ]
